# SPDX-FileCopyrightText: 2023 Helmholtz-Zentrum hereon GmbH
# SPDX-License-Identifier: CC0-1.0
# SPDX-FileContributor: Carsten Lemmen <carsten.lemmen@hereon.de>

readthedocs:
  image: alpine:latest
  stage: deploy
  before_script:
    - apk add curl
  script:
    - 'curl -X POST -H "Authorization: Token ${RTD_TOKEN}" https://readthedocs.org/api/v3/projects/my-readthedocs-demo/versions/latest/builds/'
  rules:
    # Only run the job on the default branch and not in forks.
    #- if: $CI_COMMIT_BRANCH == ${CI_DEFAULT_BRANCH}
  need: []
  allow_failure: true

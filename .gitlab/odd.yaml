# GitLab CI configuration file building the ODD document
# based on our own pandoc Docker
#
# SPDX-FileCopyrightText: 2022-2024 Helmholtz-Zentrum hereon GmbH
# SPDX-License-Identifier: CC0-1.0
# SPDX-FileContributor Carsten Lemmen <carsten.lemmen@hereon.de

odd-paper:
  image: $CI_REGISTRY_IMAGE/pandoc:3.1.12.2
  script:
    - make -C ./doc/odd pdf
    - mv ./doc/odd/odd.pdf ./doc/odd/Lemmen2024_etal_comsesodd.pdf
  artifacts:
    paths:
      - ./doc/odd/Lemmen2024_etal_comsesodd.pdf
  needs: []
  stage: deploy

ices-paper:
  image: $CI_REGISTRY_IMAGE/pandoc:3.1.12.2
  script:
    - make -C doc/ices pdf
  artifacts:
    paths:
      - doc/ices/Lemmen2024_etal_icesjmarinescience.pdf
  needs: []
  stage: deploy
  allow_failure: true
